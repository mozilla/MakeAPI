<!DOCTYPE html>
<html lang="en">
  
  <head>
    <meta charset="utf-8">
    <title>
    </title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js" type="text/javascript"></script>
    <script type="text/javascript">
      function create(data){
        jQuery.ajax({
          type: "POST",
          url: "/api/make",
          'data': data,
          success: function(data, textStatus, jqXHR){
            console.log("Post resposne:"); 
            console.dir(data); 
            console.log(textStatus); 
            console.dir(jqXHR);
          },
          error: function(jqXHR, textStatus, errorThrown){
            console.log(jqXHR.responseText);
          }
        });
      }
      
      function createFromTextArea(){
        var data = JSON.parse($('#data_area').val());
        create(data);
      }

      var sampleData = {
        url: "http://thimble.webmaker.org/p/fj6v",
        contentType: "text/html",
        locale: "en_us",
        title: "Soapbox - Let your voice be heard",
        body: "<h1>Make Your Own Rant Page</h1><p>blah blah blah, this is your pulpit.</p>",
        difficulty: 'Beginner',
        author: "simon@simonwex.com",
        contentAuthor: 'swex@mozilla.com',
        published: true
      };

      $(function(){
        $('#data_area').val(JSON.stringify(sampleData, null, "\t"));
      });

    </script>
    
    <style>
    </style>
  </head>
  
  <body>
    <h1>MakeAPI</h1>
    <p>Open your favourite JavaScript console and play away. See <a href="https://github.com/mozilla/MakeAPI">https://github.com/mozilla/MakeAPI</a> for sample usage.</p>

    <h2>Access TextArea with JSON.parse($('#data_area').val());</h2>
    <textarea id="data_area" style="width: 100%; height: 200px;"></textarea>

    <h2>Frame loading all Makes:</h2>
    <iframe src="/api/makes" style="width: 100%; height: 400px;"></iframe>
    <p>(Refresh frame for new results)</p>
  </body>
</html>


